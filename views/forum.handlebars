
<div class="row justify-content-md-center" style="margin-top: 2vh; background-image: url("https://i0.hippopx.com/photos/767/117/174/background-computer-screen-wallpaper-desktop-preview.jpg");">
  {{#each post as |post|}}
    <div class="card" id="postCard{{post.id}}" style="margin: 2.5vh 0 2.5vh 5vh;" >
      <div class="card-header" id="postCardHead{{post.id}}">{{post.user.name}}</div>
      <div class="card-body">
      <h5 class="card-title" id="postUserName{{post.user_id}}">{{post.post_title}}</h5>
      <p class="card-text" id="postBody{{post.id}}">{{post.post_body}}</p>
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalDiscussion{{post.id}}">
      View Discussion
      </button>
      </div>
    </div>

      <!-- Vertically centered scrollable modal -->
<div class="modal fade modal-xl" tabindex="-1" id="modalDiscussion{{post.id}}" aria-labelledby="modalDiscussion{{post.id}}" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="modalPostTitle{{post.id}}">{{post_title}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        {{post.post_body}}
      </div>
      <div class="modal-body">
        {{#each post.Comments as |comment|}}
          <div class="card" id="postCard{{comment.id}}" >
          <div class="card-header" id="postCardHead{{comment.id}}">{{comment.user.name}}</div>
          <div class="card-body">
          <p class="card-text" id="postBody{{comment.id}}">{{comment.comment_body}}</p>
          </div>
          </div>
        {{/each}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <!--Second Modal Trigger-->
        <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#postcomment{{post.id}}" data-bs-dismiss="modal">Comment</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="postcomment{{post.id}}" aria-labelledby="postcomment{{post.id}}" aria-hidden="true" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
    <div class="mb-3">
      <label for="newComment{{post.id}}" class="form-label">Comment</label>
      <textarea class="form-control" id="newComment{{post.id}}" rows="3" value="{{post.id}}"></textarea>
      <input type="submit" value="Submit" class="newCommentSubmit" title="{{post.id}}">
    </div>
    </div>
  </div>
</div>
    {{/each}}

</div>

<script src="/js/newComment.js"></script>